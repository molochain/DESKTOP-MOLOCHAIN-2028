# MoloChain Platform - Production Environment Template
# For Plesk Linux Server Deployment
# Copy this to .env on your production server at /var/www/vhosts/molochain.com/molochain-core/

# ===== Application Environment =====
NODE_ENV=production
VITE_APP_ENV=production
PORT=5000
HOST=0.0.0.0

# ===== API Base URLs (Production) =====
# CMS API (Laravel on cms.molochain.com)
VITE_API_CMS_BASE_URL=https://cms.molochain.com/api

# OTMS API (Vite + PostgreSQL on opt.molochain.com)
VITE_API_OTMS_BASE_URL=https://opt.molochain.com/v1

# GodLayer API (Main backend)
VITE_API_GODLAYER_BASE_URL=https://molochain.com/api

# ===== Database Configuration =====
# Local PostgreSQL on Plesk server
DATABASE_URL=postgresql://molodb:YOUR_SECURE_PASSWORD@127.0.0.1:5432/molochaindb
DB_POOL_SIZE=20
DB_STATEMENT_TIMEOUT=60000
DB_IDLE_TIMEOUT=10000

# ===== Session & Security =====
# Generate with: openssl rand -hex 64
SESSION_SECRET=GENERATE_A_64_CHAR_RANDOM_STRING
JWT_SECRET=GENERATE_ANOTHER_64_CHAR_RANDOM_STRING
CSRF_PROTECTION=true
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# ===== Application URLs =====
APP_URL=https://molochain.com
API_URL=https://molochain.com/api
FRONTEND_URL=https://molochain.com

# ===== CORS Configuration =====
CORS_ORIGINS=https://molochain.com,https://www.molochain.com,https://cms.molochain.com,https://opt.molochain.com

# ===== WebSocket Configuration =====
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_HEARTBEAT_INTERVAL=30000
WEBSOCKET_AUTH_REQUIRED=true

# ===== Caching Configuration =====
# Set to true if Redis is available on production
ENABLE_REDIS_CACHE=false
CACHE_TTL_DEFAULT=300
CACHE_TTL_LONG=3600
# REDIS_URL=redis://127.0.0.1:6379

# ===== Logging Configuration =====
LOG_LEVEL=info
ENABLE_JSON_LOGGING=true
LOG_ROTATION_ENABLED=true
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ===== Feature Flags =====
FEATURE_AI_ENABLED=false
FEATURE_GUEST_MODE=true
FEATURE_ADVANCED_ANALYTICS=true

# ===== Production Settings =====
SHOW_DETAILED_ERRORS=false

# ===== Optional: External Services =====
# OPENAI_API_KEY=sk-...
# STRIPE_SECRET_KEY=sk_live_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# ===== Optional: Email/SMTP =====
# SMTP_HOST=smtp.molochain.com
# SMTP_PORT=587
# SMTP_USER=noreply@molochain.com
# SMTP_PASS=your-smtp-password
